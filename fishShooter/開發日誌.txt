2021.03.28 11:53
接續昨晚的魚群產生器，完成魚群左右交錯而出的功能

2021.03.28 12:29
完成魚群上下擺動的功能
利用函式 y = Math.sin(x / a)*b

2021.03.28 1825
建立砲彈的的damage與魚的hp
設計使魚的生成數量與生成間隔隨機

2021.03.28 1950
我現在才知道兩個被引用的js不能交互使用對方的變數


2021.03.29 0003
把另外兩種魚做好了
可說是完成了遊戲的雛形


2021.03.29 22:37
022_暫停功能
改用requestAnimationFrame運作動畫
發現切換視窗後會持續生成物件然後物件重疊的可能原因
物件生成器必須放在 畫面更新 函式中
若獨立於該函式，即使畫面更新函式暫停，卻也無法暫停生成器中的計時器

因此，必須把生成器的計時器全部去掉，改成以計算幀數而生成物件
然後把生成器統一放在一個函式中集中管理
再把這個函式放進畫面暫停函式中


2021 03 31 0957
將砲彈生成器中 if (cooldown) { 下的return去掉
這樣就能避免在執行到  gameArea.gameStart = requestAnimationFrame(gameStart)之前就停止


2021 03 31 0305
023_修重疊BUG_修改魚群產生器.html
新的魚群產生器已大致完成，還需要做一些調整


2021 03 31 2331
完成新的魚群產生器
沒有重疊BUG，而且更容易調整參數


2021 04 03 1238
接下來要做
製作彈藥限制，把魚與砲彈的貼圖弄上去
遊戲開始、遊戲結束

將class score改名為textObj
彈藥文字顯示完成
修改碰撞函式，減少運算資源

2021 04 04 1621
將gameArea物件裡面的函式與變數全部取出變成全域變數，並刪掉gameArea物件
因為放在gameArea物件裡的東西式全域都要使用的，放在裡面只會增添麻煩
ps.後來煩惱了兩個小時，原本的寫法是仿造w3shool的寫法，那樣的寫法是不是有考慮到我沒想到的狀況?
    一直煩惱這個而沒進度也不是辦法，決定就先照自己的想法繼續寫下去
    未來時間較充裕時要看教學影片或買書來看，了解其他人的寫法

2021 04 04 2218
開始與暫停的功能完成
不過對於抓不到canvas中text高度這件事不滿意
但是時間並不充裕，就先用不靈活的作法處理
外來要再好好了解怎麼抓canvas text的height
ps.做 文字按鈕 最好的做法應該還是用寫著文字的 圖片 代替 text
    或著在文字下層加一個有顏色的矩形，用這個矩形當按鈕


2021 04 05 1153
發射冷卻時間改由幀數計算

遊戲結束的機制決定以
彈藥量歸零後檢查畫面上是否有彈藥，無彈藥後30幀結束遊戲的方案
因為考慮到彈藥消失時間可能不盡相同，若用setTimeout()的話可能會出現問題

完成彈藥歸零後遊戲結束的機制


2021 04 05 2043
今天了解到一個觀念
物件座標 與 畫布座標 要分開處理
物件座標就是物件的x座標與y座標
畫布座標就是畫布的座標，用translate決定的x座標、y座標

因為畫布變形的關係在使用scale()、rotate()這類的方法後
畫布的位置會有很大的變動，必須要用translate()進行修正
否則畫出來的物件的位置會完全不對

將圖片水平翻轉後並以預期的方向移動，終於做好了
元件的位置先用shell的作法，
用translate()調整繪圖位置
將物件的繪圖起始座標設定為，width/ -2,height / -2

如果要水平翻轉
先用scale(-1,0)進行水平翻轉，
翻轉後 正數x座標 的表現會如同 負數x座標
同理   負數x座標 的表現會如同 正數x座標
x座標越小就越往右邊移動，越大就越往左邊移動，
表現與翻轉前相反
所以然後用translate()調整繪圖位置時，x座標要改為負數，就能校正回來
translate(-x, y)

魚的貼圖已經完成，大小也經過調整以比較符合圖片比例
不過fish02與fish03的碰撞檢定盒子連在一起了，需要把生成間隔拉長一點使兩個魚分開一點
-------------------------------------------------------------2351

2021 04 08 1026
昨天上課比較完整的學習了class
今天開始著手優化class部分的程式碼

優化完成，雖然不夠好

0114--------------------------------

2021 04 08 2024
原本的優化發生大問題，已經處理好了
遺憾class的使用方法沒有我以為的這麼靈活

同時改變了部分變數名稱，使其更語意化
2050---------------------------------


2021-04-19 0233

030_再次優化
原本是想讓魚物件被碰撞或離開畫面時自陣列中移除
但是出現問題，要修好需要改很多地方
現在沒時間改這些東西了，先讓這個遊戲完整了再考慮優化的問題吧
----------------------------------------------------


2021-04-20 1056

想要將js中的class分離出來，但因為class有用到主檔案才有宣告的變數而失敗
要改的話要花不少時間，先放著

試圖以function包住class的方式將class提升的嘗試失敗，全域無法呼叫class

為了跟資料庫銜接，需要大改
彈藥數歸零時遊戲結束的機制要改掉
每顆砲彈發射時要記錄各項數值
包括發射時間，砲彈種類，金額，打中的魚等等等.....(見 捕魚機資料庫草稿.xlsx)

要上傳之資料的草稿已完成

完成砲彈飛到畫面外後的結算處置










